[gd_scene load_steps=31 format=3 uid="uid://l3yji6t2u1gr"]

[ext_resource type="Script" path="res://Scripts/World.gd" id="1_tym0h"]
[ext_resource type="Script" path="res://Scripts/Player.gd" id="2_qj4if"]
[ext_resource type="PackedScene" uid="uid://dhudi52kk631y" path="res://Scenes/Gun.tscn" id="3_3bviw"]
[ext_resource type="Script" path="res://Scripts/Screenshake.gd" id="3_q8e5j"]
[ext_resource type="Script" path="res://Scripts/StencilBlocker.gd" id="3_xun6q"]
[ext_resource type="PackedScene" uid="uid://bms56id7q1i6s" path="res://Scenes/Destroyer.tscn" id="4_7gymc"]
[ext_resource type="Script" path="res://Scripts/StencilCamera.gd" id="5_2wm62"]
[ext_resource type="PackedScene" uid="uid://dbqp5qmntilfy" path="res://Scenes/Turret.tscn" id="5_4ub5r"]
[ext_resource type="Shader" path="res://Shaders/StencilShader.gdshader" id="5_o6mk8"]
[ext_resource type="Texture2D" uid="uid://d3radhj6uixps" path="res://Textures/Crosshair/crosshair161.png" id="6_wvhx6"]
[ext_resource type="Script" path="res://Scripts/PortalCamera.gd" id="7_ft6rt"]
[ext_resource type="PackedScene" uid="uid://cay7ruc864d07" path="res://Scenes/fps_counter.tscn" id="8_3nm1p"]
[ext_resource type="PackedScene" uid="uid://chuu1cjlrp7p7" path="res://Scenes/Portal.tscn" id="12_msyrq"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_3y4ak"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_ale1i"]
sky_material = SubResource("ProceduralSkyMaterial_3y4ak")

[sub_resource type="Environment" id="Environment_088vp"]
background_mode = 2
sky = SubResource("Sky_ale1i")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_6ipjk"]
vertices = PackedVector3Array(-76, 0.46823, -11.25, -29.25, 0.46823, -11.25, -28.5, 0.46823, -14.5, -76, 0.46823, -11.25, -28.5, 0.46823, -14.5, -26.25, 0.46823, -16.75, -76, 0.46823, -11.25, -26.25, 0.46823, -16.75, -23, 0.46823, -17.5, -23, 0.46823, -93.5, -76, 0.46823, -93.5, -2, 0.46823, 0.75, -1.5, 0.46823, 0.75, -1.5, 0.46823, -1, -2.75, 0.46823, -1.25, -17, 0.46823, -12, -17.75, 0.46823, -8.5, -7.75, 0.46823, -2.5, -2.75, 0.46823, -1.25, -1.5, 0.46823, -1, -0.75, 0.46823, -1.5, -0.75, 0.46823, -8.25, -4, 0.46823, -2.5, -17.75, 0.46823, -14.5, -0.75, 0.46823, -8.25, 0, 0.46823, -8.5, 0, 0.46823, -93.5, -23, 0.46823, -93.5, -20, 0.46823, -16.75, -23, 0.46823, -93.5, -23, 0.46823, -17.5, -20, 0.46823, -16.75, -7.75, 0.46823, -2.5, -4, 0.46823, -2.5, -0.75, 0.46823, -8.25, -17.75, 0.46823, -14.5, -17, 0.46823, -12, 1.25, 0.46823, -1, 1.25, 0.46823, -0.25, 3, 0.46823, -0.25, 0.75, 0.46823, -1.25, 1.25, 0.46823, -1, 3, 0.46823, -0.25, 3.5, 0.46823, -2.5, 0.75, 0.46823, -8.25, 8, 0.46823, -4.25, 76, 0.46823, 0, 0.75, 0.46823, -1.25, 3.5, 0.46823, -2.5, 5, 0.46823, -4, 0.75, 0.46823, -8.25, 0, 0.46823, -8.5, 0.75, 0.46823, -8.25, 76, 0.46823, 0, 76, 0.46823, -93.5, 0, 0.46823, -93.5, 0.75, 0.46823, -8.25, 5, 0.46823, -4, 8, 0.46823, -4.25, 10.5, 0.46823, -2, 10.75, 0.46823, 0, 76, 0.46823, 0, 8, 0.46823, -4.25, 10.5, 0.46823, -2, 76, 0.46823, 0, -27, 0.46823, -9, -25.5, 0.46823, -7.5, -23.75, 0.46823, -7, -21, 0.46823, -7.5, -25.5, 0.46823, -15.25, -27, 0.46823, -13.75, -27.5, 0.46823, -12, -19.25, 0.46823, -13.5, -21, 0.46823, -15.25, -22.5, 0.46823, -15.75, -18.75, 0.46823, -11, -21, 0.46823, -7.5, -19.25, 0.46823, -9.25, -18.75, 0.46823, -11, -22.5, 0.46823, -15.75, -25.5, 0.46823, -15.25, -27.5, 0.46823, -12, -27, 0.46823, -9, -21, 0.46823, -7.5, -18.75, 0.46823, -11, -20.75, 7.71823, -10.75, -22.5, 7.71823, -13.75, -25.5, 7.71823, -12, -25.25, 7.71823, -10, -23.75, 7.71823, -9, -21.75, 7.71823, -9.25, -24.025, 8.21823, -11.525, -22.49, 8.21823, -11.514, -22.5, 7.71823, -13.75, -24.5, 7.71823, -13.5, -25.5, 7.71823, -12, -20.75, 7.71823, -10.75, -21, 7.71823, -12.75, -22.5, 7.71823, -13.75, -23, 0.46823, 4.25, -23, 0.46823, 2.75, -23.75, 0.46823, 2.5, -23.75, 0.46823, 1, -20.5, 0.46823, 1, -20.5, 0.46823, 0.75, -23.75, 0.46823, 1, -20.5, 0.46823, 0.75, -20.25, 0.46823, -1.25, -23.75, 0.46823, -5.25, -26.25, 0.46823, -6, -20.25, 0.46823, -1.25, -21, 0.46823, -5.75, -23.75, 0.46823, -5.25, -23, 0.46823, 4.25, -23.75, 0.46823, 2.5, -28.5, 0.46823, -8.25, -76, 0.46823, -11.25, -76, 0.46823, 93.5, -22, 0.46823, 93.5, -28.5, 0.46823, -8.25, -29.25, 0.46823, -11.25, -76, 0.46823, -11.25, -23.75, 0.46823, 2.5, -23.75, 0.46823, 1, -26.25, 0.46823, -6, -28.5, 0.46823, -8.25, -22, 0.46823, 93.5, -22, 0.46823, 4.5, -23, 0.46823, 4.25, -20, 0.46823, -6, -21, 0.46823, -5.75, -20.25, 0.46823, -1.25, -18.75, 0.46823, -1.5, -18.25, 0.46823, 0.5, -10, 0.46823, 1, -9.25, 0.46823, -1.25, -17.75, 0.46823, -8.5, -20, 0.46823, -6, -18.75, 0.46823, -1.5, -17.75, 0.46823, -8.5, -18.75, 0.46823, -1.5, -18.25, 0.46823, 0.5, -9.25, 0.46823, -1.25, -7.75, 0.46823, -2.5, 5, 0.46823, 0.75, 6, 0.46823, 1.5, 7.5, 0.46823, 1.5, 9, 0.46823, 0.25, 9, 0.46823, -1.5, 7.75, 0.46823, -2.5, 6, 0.46823, -2.5, 4.5, 0.46823, -1, 5, 0.46823, 0.75, 7.5, 0.46823, 1.5, 9, 0.46823, 0.25, 7.75, 0.46823, -2.5, 6, 8.46823, 1.75, 7.5, 8.71823, 1.75, 8.5, 8.46823, 1, 8.25, 8.46823, -1.5, 7.25, 8.21823, -2.25, 5.5, 8.46823, -1.5, 5, 8.46823, 0, 6, 8.46823, 1.75, 8.5, 8.46823, 1, 8.375, 8.71823, -0.25, -4.5, 0.46823, 2.5, -3.75, 0.46823, 1.25, -3.75, 0.46823, 0, -3.75, 0.46823, 0, -5.5, 0.46823, -1.25, -6.5, 0.46823, -1.25, -7.75, 0.46823, 2.25, -6.25, 0.46823, 3, -4.5, 0.46823, 2.5, -3.75, 0.46823, 0, -6.5, 0.46823, -1.25, -8.25, 0.46823, 0, -6.25, 8.21823, 3.25, -5, 8.21823, 3, -4.25, 8.21823, 2, -7.75, 8.21823, 1, -7.5, 8.21823, 2.5, -6.25, 8.21823, 3.25, -7, 8.46823, 2.125, -4.25, 8.21823, 0.75, -5.25, 7.96823, -0.75, -6.75, 7.96823, -0.75, -7.75, 8.21823, 1, -6.25, 8.21823, 3.25, -4.25, 8.21823, 2, -7, 8.46823, 2.125, -6.025, 8.46823, 0.474998, -0.5, 4.71823, -0.5, 0, 4.71823, 0.25, 0, 4.71823, -0.5, 3, 0.46823, -0.25, 1.25, 0.46823, -0.25, 1.25, 0.46823, 0.5, 3, 0.46823, -0.25, 1.25, 0.46823, 0.5, 0.75, 0.46823, 0.75, 3.5, 0.46823, 2.5, 76, 0.46823, 0, 10.75, 0.46823, 1.5, 9.25, 0.46823, 3.5, 5.5, 0.46823, 4, 3.5, 0.46823, 2.5, 0.75, 0.46823, 0.75, 0.75, 0.46823, 8.5, 76, 0.46823, 0, 0.75, 0.46823, 8.5, 0, 0.46823, 8.75, 0, 0.46823, 93.5, 76, 0.46823, 93.5, 8, 0.46823, 4, 5.5, 0.46823, 4, 0.75, 0.46823, 8.5, 9.25, 0.46823, 3.5, 8, 0.46823, 4, 0.75, 0.46823, 8.5, 76, 0.46823, 0, 76, 0.46823, 0, 10.75, 0.46823, 0, 10.75, 0.46823, 1.5, -0.75, 0.46823, 1, -1.5, 0.46823, 0.75, -2, 0.46823, 0.75, -2.5, 0.46823, 3.75, -0.75, 0.46823, 8.5, -20.5, 0.46823, 0.75, -20.5, 0.46823, 1, -20.25, 0.46823, 2.25, -18.75, 0.46823, 1.25, -8.5, 0.46823, 4.75, -9.75, 0.46823, 3.25, -18.75, 0.46823, 1.25, -20.25, 0.46823, 2.25, -21.25, 0.46823, 2.75, -21, 0.46823, 4.25, -7.5, 0.46823, 5.25, -21, 0.46823, 4.25, -22, 0.46823, 4.5, -0.75, 0.46823, 8.5, -18.75, 0.46823, 1.25, -20.25, 0.46823, 2.25, -21, 0.46823, 4.25, -7.5, 0.46823, 5.25, -8.5, 0.46823, 4.75, 0, 0.46823, 8.75, -0.75, 0.46823, 8.5, -22, 0.46823, 4.5, -22, 0.46823, 93.5, 0, 0.46823, 93.5, -0.75, 0.46823, 8.5, -2.5, 0.46823, 3.75, -4.25, 0.46823, 5.25, -0.75, 0.46823, 8.5, -4.25, 0.46823, 5.25, -7.5, 0.46823, 5.25, -10, 0.46823, 1, -18.25, 0.46823, 0.5, -18.75, 0.46823, 1.25, -9.75, 0.46823, 3.25)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(9, 6, 10), PackedInt32Array(12, 11, 13), PackedInt32Array(13, 11, 14), PackedInt32Array(17, 16, 15), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 22), PackedInt32Array(20, 22, 21), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 28), PackedInt32Array(25, 28, 26), PackedInt32Array(26, 28, 27), PackedInt32Array(31, 30, 29), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 36), PackedInt32Array(34, 36, 35), PackedInt32Array(39, 38, 37), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 43), PackedInt32Array(46, 45, 44), PackedInt32Array(48, 47, 49), PackedInt32Array(49, 47, 50), PackedInt32Array(52, 51, 53), PackedInt32Array(53, 51, 55), PackedInt32Array(53, 55, 54), PackedInt32Array(58, 57, 56), PackedInt32Array(61, 60, 59), PackedInt32Array(64, 63, 62), PackedInt32Array(66, 65, 67), PackedInt32Array(67, 65, 68), PackedInt32Array(71, 70, 69), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 75), PackedInt32Array(78, 77, 76), PackedInt32Array(80, 79, 81), PackedInt32Array(81, 79, 82), PackedInt32Array(82, 79, 84), PackedInt32Array(82, 84, 83), PackedInt32Array(89, 92, 90), PackedInt32Array(90, 92, 85), PackedInt32Array(85, 92, 86), PackedInt32Array(86, 91, 87), PackedInt32Array(87, 91, 88), PackedInt32Array(88, 91, 89), PackedInt32Array(89, 91, 92), PackedInt32Array(92, 91, 86), PackedInt32Array(93, 95, 94), PackedInt32Array(96, 98, 97), PackedInt32Array(100, 99, 101), PackedInt32Array(104, 103, 102), PackedInt32Array(106, 105, 107), PackedInt32Array(107, 105, 108), PackedInt32Array(108, 105, 109), PackedInt32Array(112, 111, 110), PackedInt32Array(114, 113, 115), PackedInt32Array(115, 113, 116), PackedInt32Array(116, 113, 118), PackedInt32Array(116, 118, 117), PackedInt32Array(121, 120, 119), PackedInt32Array(123, 122, 124), PackedInt32Array(124, 122, 125), PackedInt32Array(128, 127, 126), PackedInt32Array(130, 129, 131), PackedInt32Array(131, 129, 132), PackedInt32Array(135, 134, 133), PackedInt32Array(138, 137, 136), PackedInt32Array(140, 139, 141), PackedInt32Array(141, 139, 142), PackedInt32Array(142, 139, 143), PackedInt32Array(146, 145, 144), PackedInt32Array(149, 148, 147), PackedInt32Array(151, 150, 152), PackedInt32Array(152, 150, 155), PackedInt32Array(152, 155, 153), PackedInt32Array(153, 155, 154), PackedInt32Array(158, 157, 156), PackedInt32Array(159, 165, 160), PackedInt32Array(160, 165, 164), PackedInt32Array(160, 164, 161), PackedInt32Array(161, 164, 162), PackedInt32Array(162, 164, 163), PackedInt32Array(168, 167, 166), PackedInt32Array(171, 170, 169), PackedInt32Array(173, 172, 174), PackedInt32Array(174, 172, 177), PackedInt32Array(174, 177, 176), PackedInt32Array(174, 176, 175), PackedInt32Array(180, 179, 178), PackedInt32Array(183, 182, 184), PackedInt32Array(184, 182, 181), PackedInt32Array(189, 191, 190), PackedInt32Array(190, 192, 185), PackedInt32Array(185, 192, 186), PackedInt32Array(186, 192, 187), PackedInt32Array(187, 192, 188), PackedInt32Array(188, 192, 191), PackedInt32Array(191, 192, 190), PackedInt32Array(195, 194, 193), PackedInt32Array(198, 197, 196), PackedInt32Array(200, 199, 201), PackedInt32Array(201, 199, 202), PackedInt32Array(205, 204, 203), PackedInt32Array(207, 206, 208), PackedInt32Array(208, 206, 209), PackedInt32Array(211, 210, 212), PackedInt32Array(212, 210, 213), PackedInt32Array(213, 210, 214), PackedInt32Array(217, 216, 215), PackedInt32Array(219, 218, 220), PackedInt32Array(220, 218, 221), PackedInt32Array(224, 223, 222), PackedInt32Array(226, 225, 227), PackedInt32Array(227, 225, 228), PackedInt32Array(228, 225, 229), PackedInt32Array(231, 230, 232), PackedInt32Array(232, 230, 233), PackedInt32Array(236, 235, 234), PackedInt32Array(239, 238, 237), PackedInt32Array(241, 240, 242), PackedInt32Array(242, 240, 243), PackedInt32Array(245, 244, 246), PackedInt32Array(246, 244, 248), PackedInt32Array(246, 248, 247), PackedInt32Array(250, 249, 251), PackedInt32Array(251, 249, 253), PackedInt32Array(251, 253, 252), PackedInt32Array(256, 255, 254), PackedInt32Array(259, 258, 257), PackedInt32Array(261, 260, 262), PackedInt32Array(262, 260, 263)]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_12j7t"]
radius = 0.75
height = 4.8

[sub_resource type="FastNoiseLite" id="FastNoiseLite_1pqde"]
frequency = 0.05
fractal_octaves = 4
fractal_gain = 0.8

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_c7w40"]
radius = 1.18722
height = 5.0847

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_d5oia"]
radius = 1.35263
height = 5.65913

[sub_resource type="Environment" id="Environment_clm5q"]
background_mode = 1
background_energy_multiplier = 0.0

[sub_resource type="ViewportTexture" id="ViewportTexture_7sfqx"]
viewport_path = NodePath("Map/NavigationRegion3D/Player/StencilViewport")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_scqox"]
resource_local_to_scene = true
shader = ExtResource("5_o6mk8")
shader_parameter/stencil_tex = SubResource("ViewportTexture_7sfqx")

[sub_resource type="ViewportTexture" id="ViewportTexture_2ow2d"]
viewport_path = NodePath("Map/NavigationRegion3D/Player/PortalViewport")

[sub_resource type="BoxMesh" id="BoxMesh_41gfq"]
size = Vector3(0.177, 3.034, 16)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b45cf"]
albedo_color = Color(0, 1, 1, 1)
metallic = 1.0
metallic_specular = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dxy0f"]
albedo_color = Color(1, 0, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_4ogn2"]
size = Vector3(153, 1, 188)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oglck"]
albedo_color = Color(1, 0, 1, 1)

[node name="World" type="Node3D"]
script = ExtResource("1_tym0h")

[node name="Map" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Map"]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
light_cull_mask = 4293918721
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="Map"]
environment = SubResource("Environment_088vp")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Map"]
navigation_mesh = SubResource("NavigationMesh_6ipjk")

[node name="CSGSphere3D" type="CSGSphere3D" parent="Map/NavigationRegion3D" groups=["projectile"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.1409, 2.38052, -11.3779)
layers = 17
use_collision = true
collision_layer = 3
collision_mask = 3
radius = 5.62853

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.064476, 0)
layers = 2

[node name="Player" type="CharacterBody3D" parent="Map/NavigationRegion3D" groups=["player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0135589, -0.147188, -0.0197175)
collision_layer = 3
script = ExtResource("2_qj4if")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/NavigationRegion3D/Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.170116, 2.10211, -0.175439)
visible = false
mesh = SubResource("CapsuleMesh_12j7t")

[node name="Head" type="Area3D" parent="Map/NavigationRegion3D/Player" groups=["player"]]
script = ExtResource("3_q8e5j")
noise = SubResource("FastNoiseLite_1pqde")

[node name="Camera3D" type="Camera3D" parent="Map/NavigationRegion3D/Player/Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.03755, 0.0830126)
cull_mask = 1048559

[node name="Gun" parent="Map/NavigationRegion3D/Player/Head/Camera3D" instance=ExtResource("3_3bviw")]
transform = Transform3D(0.248806, -0.00527947, 0.0238234, 0.00783289, 0.248441, -0.0267483, -0.0231101, 0.027367, 0.247421, 0.339471, -0.248334, -0.401797)

[node name="RayCast3D" type="RayCast3D" parent="Map/NavigationRegion3D/Player/Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.73309)
target_position = Vector3(0, 0, 0)
collision_mask = 2
collide_with_areas = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/NavigationRegion3D/Player/Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.170116, 2.66693, -0.175439)
shape = SubResource("CapsuleShape3D_c7w40")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/NavigationRegion3D/Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.170116, 2.53163, -0.175439)
shape = SubResource("CapsuleShape3D_d5oia")

[node name="StencilViewport" type="SubViewport" parent="Map/NavigationRegion3D/Player"]
screen_space_aa = 1
size = Vector2i(1152, 648)
render_target_update_mode = 4

[node name="StencilCamera" type="Camera3D" parent="Map/NavigationRegion3D/Player/StencilViewport"]
cull_mask = 16
environment = SubResource("Environment_clm5q")
script = ExtResource("5_2wm62")
main_cam_path = NodePath("../../Head/Camera3D")

[node name="PortalViewport" type="SubViewport" parent="Map/NavigationRegion3D/Player"]
screen_space_aa = 1
size = Vector2i(1152, 648)
render_target_update_mode = 4

[node name="PortalCamera" type="Camera3D" parent="Map/NavigationRegion3D/Player/PortalViewport"]
cull_mask = 1048559
script = ExtResource("7_ft6rt")

[node name="TextureRect" type="TextureRect" parent="Map/NavigationRegion3D/Player"]
material = SubResource("ShaderMaterial_scqox")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("ViewportTexture_2ow2d")

[node name="Turret" parent="Map/NavigationRegion3D" instance=ExtResource("5_4ub5r")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.2767, 0, 0)
collision_layer = 3
collision_mask = 3

[node name="Destroyer" parent="Map/NavigationRegion3D" instance=ExtResource("4_7gymc")]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, -22.0644, 0, 0)

[node name="Portal" parent="Map/NavigationRegion3D" instance=ExtResource("12_msyrq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.85633, 2.59585, -0.699267)

[node name="Portal2" parent="Map/NavigationRegion3D" instance=ExtResource("12_msyrq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.98082, 2.21823, 0.67448)
current = false
other_portal_path = NodePath("../Portal")

[node name="StencilBlockBox" type="CSGBox3D" parent="Map/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00453711, 1.23352, -0.00495005)
use_collision = true
collision_layer = 3
collision_mask = 3
size = Vector3(0.18, 3.1, 16.2)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/NavigationRegion3D/StencilBlockBox"]
mesh = SubResource("BoxMesh_41gfq")
surface_material_override/0 = SubResource("StandardMaterial3D_b45cf")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Map/NavigationRegion3D/StencilBlockBox"]
visible = false
layers = 16
mesh = SubResource("BoxMesh_41gfq")
script = ExtResource("3_xun6q")

[node name="Floor" type="CSGBox3D" parent="Map/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.45, 0)
layers = 3
use_collision = true
collision_layer = 3
collision_mask = 3
size = Vector3(153, 1, 188)
material = SubResource("StandardMaterial3D_dxy0f")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/NavigationRegion3D/Floor" groups=["projectile"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.45, 0)
layers = 3
mesh = SubResource("BoxMesh_4ogn2")
surface_material_override/0 = SubResource("StandardMaterial3D_oglck")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Map/NavigationRegion3D/Floor" groups=["projectile"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.45, 0)
visible = false
layers = 16
mesh = SubResource("BoxMesh_4ogn2")
script = ExtResource("3_xun6q")

[node name="Spawns" type="Node3D" parent="Map"]

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
mouse_filter = 2

[node name="BlackScreen" type="ColorRect" parent="UI"]
visible = false
layout_mode = 0
offset_left = -140.0
offset_top = -87.0
offset_right = 1300.0
offset_bottom = 757.0
color = Color(0, 0, 0, 1)

[node name="Crosshair" type="TextureRect" parent="UI"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("6_wvhx6")

[node name="FPSCounter" parent="UI" instance=ExtResource("8_3nm1p")]
visible = false
layout_mode = 1

[connection signal="player_dead" from="Map/NavigationRegion3D/Player" to="." method="_on_player_player_dead"]
[connection signal="screen_shake" from="Map/NavigationRegion3D/Player" to="Map/NavigationRegion3D/Player/Head" method="_on_player_screen_shake"]
[connection signal="screen_shake" from="Map/NavigationRegion3D/Destroyer" to="Map/NavigationRegion3D/Player/Head" method="_on_destroyer_screen_shake"]
